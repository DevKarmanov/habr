<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/7.2.96/css/materialdesignicons.min.css" integrity="sha512-LX0YV/MWBEn2dwXCYgQHrpa9HJkwB+S+bnBpi">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/css/profile.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-auto bg-light sticky-top">
            <div class="d-flex flex-sm-column flex-row flex-nowrap bg-light align-items-center sticky-top">
                <a href="/api/resume_v1/user" class="d-block p-3 link-dark text-decoration-none" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Icon-only">
                    <img src="/images/logo.ico" class="img-fluid" alt="Логотип" style="max-width: 40px;">
                </a>
                <ul class="nav nav-pills nav-flush flex-sm-column flex-row flex-nowrap mb-auto mx-auto text-center align-items-center">
                    <li class="nav-item">
                        <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Home">
                            <i class="bi-house fs-4"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Dashboard">
                            <i class="bi-speedometer2 fs-4"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Orders">
                            <i class="bi-table fs-4"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Products">
                            <i class="bi-heart fs-4"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Customers">
                            <i class="bi-people fs-4"></i>
                        </a>
                    </li>
                </ul>
                <div class="dropdown">
                    <a href="#" class="d-flex align-items-center justify-content-center p-3 link-dark text-decoration-none dropdown-toggle" id="dropdownUser3" data-bs-toggle="dropdown" aria-expanded="false">
                        <img th:src="@{/api/resume_v1/user/image/{name}(name=${MyUserName})}" class="img-fluid avatar" alt="Аватарка" style="max-width: 40px;">
                    </a>
                    <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser3">
                        <li><a class="dropdown-item" href="/api/resume_v1/resumeForm">Выложить объявление</a></li>
                        <li><a class="dropdown-item" href="#">Settings</a></li>
                        <li><a class="dropdown-item" th:href="@{/api/resume_v1/profile/{name}(name=${MyUserName})}">Профиль</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-sm p-3 min-vh-100" style="background-image: url('/images/фон сайта.png'); background-size: cover; background-position: center; background-repeat: repeat;">
            <div class="container">
                <div class="row">
                    <div class="col-xl-8">
                        <div class="card">
                            <div class="card-body pb-0">
                                <div class="row align-items-center">
                                    <div class="col-md-3">
                                        <div class="text-center border-end">
                                            <img th:src="@{/api/resume_v1/user/image/{name}(name=${UserName})}" class="img-fluid avatar-xxl rounded-circle" alt="">
                                            <h4 th:text="${UserInfo.name}" class="text-primary font-size-20 mt-3 mb-2">Jansh Wells</h4>
                                            <h5 th:text="${UserInfo.roleInCommand}" class="text-muted font-size-13 mb-0">Web Designer</h5>
                                        </div>
                                    </div><!-- end col -->
                                    <div class="col-md-9">
                                        <div class="ms-3">
                                            <div>
                                                <h4 class="card-title mb-2">О себе</h4>
                                                <a th:if="${UserName.equals(MyUserName)}" th:href="@{/api/resume_v1/profile/{name}/edit-private-information(name=${UserName})}" type="button" class="btn btn-white btn-square position-absolute top-0 end-0 mt-3 me-3 redirect-to-edit">
                                                    <i class="bi bi-pencil-square"></i>
                                                </a>
                                                <p th:text="${UserInfo.description}" class="mb-0 text-muted" style="width: 350px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                                    Hi I'm Jansh,has been the industry's standard dummy text To an English person alteration text.
                                                </p>
                                            </div>

                                            <div class="row my-4">
                                                <div class="col-md-12">
                                                    <div>
                                                        <p th:text="${UserInfo.email}" class="text-muted mb-2 fw-medium"><i class="mdi mdi-email-outline me-2"></i>Janshwells@probic.com
                                                        </p>
                                                    </div>
                                                </div><!-- end col -->
                                            </div><!-- end row -->

                                            <ul class="nav nav-tabs nav-tabs-custom border-bottom-0 mt-3 nav-justfied" role="tablist">
                                                <li class="nav-item" role="presentation">
                                                    <a class="nav-link px-4 "  href="https://bootdey.com/snippets/view/profile-task-with-team-cards" target="__blank">
                                                        <span class="d-block d-sm-none"><i class="mdi mdi-menu-open"></i></span>
                                                        <span class="d-none d-sm-block">Принимает участие</span>
                                                    </a>
                                                </li><!-- end li -->
                                                <li class="nav-item" role="presentation">
                                                    <a class="nav-link px-4  active" data-bs-toggle="tab" href="#team-tab" role="tab" aria-selected="true">
                                                        <span class="d-block d-sm-none"><i class="mdi mdi-account-group-outline"></i></span>
                                                        <span class="d-none d-sm-block">Объявления</span>
                                                    </a>
                                                </li><!-- end li -->
                                            </ul><!-- end ul -->
                                        </div>
                                    </div><!-- end col -->
                                </div><!-- end row -->
                            </div><!-- end card body -->
                        </div><!-- end card -->

                        <div class="card">
                            <div class="tab-content p-4">
                                <div class="tab-pane active show" id="team-tab" role="tabpanel">
                                    <h4 class="card-title mb-4">Проекты</h4>
                                    <p th:if="${errorMessage}" th:text="${errorMessage}" class="error text-danger text-center"></p>
                                    <div th:if="${UserInfo.resumes.isEmpty() && UserName.equals(MyUserName)}">
                                        Вы не выложили еще ни одного объявления
                                    </div>
                                    <div th:if="${UserInfo.resumes.isEmpty() && !UserName.equals(MyUserName)}">
                                        Этот пользователь пока не выложил объявления
                                    </div>
                                    <div th:if="${UserInfo.resumes}" class="row">
                                        <div th:each="resume,index : ${UserInfo.resumes}" class="col-xl-4 col-md-6" id="team-1">
                                            <div class="card position-relative">
                                                <!-- Кнопка для вызова модального окна изменения карточки -->
                                                <div style="display: flex; justify-content: flex-end; align-items: center;">
                                                    <a th:if="${UserName.equals(MyUserName)}" th:data-card-id="${resume.id}" type="button" class="btn btn-white edit-button" data-bs-toggle="modal" style="width: 25px; height: 25px; padding: 0;">
                                                        <i class="bi bi-pencil-square"></i>
                                                    </a>
                                                    <form th:id="${'deleteCard'+index.index}" th:action="@{/api/resume_v1/profile/{name}/delete(name=${UserName})}" style="margin-left: 10px;">
                                                        <button th:if="${UserName.equals(MyUserName)}" th:data-card-id="${resume.id}" type="submit" class="btn btn-white" style="width: 25px; height: 25px; padding: 0;">
                                                            <i class="bi bi-trash-fill"></i>
                                                        </button>
                                                        <input type="hidden" name="cardId" th:value="${resume.id}">
                                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                                                    </form>
                                                </div>
                                                <div class="card-body">
                                                    <div>
                                                        <h5 th:text="${resume.title}" class="mb-1 font-size-17">Marketing</h5>
                                                        <p th:text="${resume.description}" class="text-muted  font-size-13 mb-0">4 Projects</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- end col -->
                                    </div><!-- end row -->
                                </div><!-- end tab pane -->
                            </div>
                        </div><!-- end card -->
                    </div><!-- end col -->

                    <div class="col-xl-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="pb-2">
                                    <h4 class="card-title mb-3">Подробнее о себе</h4>
                                    <p th:text="${UserInfo.description}">Hi I'm Jansh, has been the industry's standard dummy text To an English
                                        person, it will seem like
                                        simplified.</p>
                                    <!-- end ul -->
                                </div>
                                <hr>
                                <div class="pt-2">
                                    <h4 class="card-title mb-4">Навыки</h4>
                                    <div class="d-flex gap-2 flex-wrap">
                                        <span  th:each="skill : ${ListOfSkills}" th:text="${skill.trim()}" class="badge badge-soft-secondary p-2">HTML</span>
                                    </div>
                                </div>
                            </div><!-- end cardbody -->
                        </div><!-- end card -->

                        <div class="card">
                            <div class="card-body">
                                <div>
                                    <h4 class="card-title mb-4">Немного личной информации</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered mb-0">
                                            <tbody>
                                            <tr>
                                                <th scope="row">Имя и фамилия</th>
                                                <td th:text="${UserInfo.firstname+' '+UserInfo.lastname}">Jansh Wells</td>
                                            </tr><!-- end tr -->
                                            <tr>
                                                <th scope="row">Страна</th>
                                                <td th:text="${UserInfo.country}">California, United States</td>
                                            </tr><!-- end tr -->
                                            </tbody><!-- end tbody -->
                                        </table><!-- end table -->
                                    </div>
                                </div>
                            </div><!-- end card body -->
                        </div><!-- end card -->

                    </div><!-- end col -->
                </div>
            </div>
        </div>
    </div>
</div>

</body>
<script src="/js/redirectToEditCardForm.js"></script>
<script src="/js/deleteCardRequest.js"></script>
</html>